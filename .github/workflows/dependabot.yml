name: Dependency mgmt
on:
  workflow_dispatch: # enable run button on github.com
  schedule:
    - cron: '0 23 * * 2'

jobs:
  update-deps:
    name: Update Node dependencies
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
        with:
          node-version: "16"
      - run: npm install
      - uses: neverendingqs/gh-action-node-update-deps@v2
        with:
          git-user-email: wise.spot4836@fastmail.com'
          git-user-name: dependency-mgmt
          pre-commit-script: npm run test
